(window.webpackJsonpstockNavbar=window.webpackJsonpstockNavbar||[]).push([[2],{577:function(e,a,t){"use strict";t.r(a);var n=t(18),l=t.n(n),o=t(6),i=t.n(o),r=(t(348),t(347),t(1)),c=t.n(r),s=t(9),d=t(0),u=t(158),b=t(183),m=t(70),g=t.n(m),f=t(167),E=t(195),p=t.n(E),v=t(212),h=t(2),w=t(256),k=t(7),L=t(33),S=t(550),I=t(72),A=t.n(I),P=t(538),y=t(160),C=t.n(y),O=t(134),j=t(213),M=t.n(j),N=t(32),R=t(11),T=t(73),_=t(214);function H(e){let{adobeAccountUrl:a,avatarImageUrl:t,avatarAlt:n,currentProfileName:o,email:i,trackProfileDropdownClick:r,defaultShow:d,isSudLicenseHistoryForEnterpriseEnabled:u,intl:b}=e;const m=u?k.a.STOCK_USER_DASHBOARD_LICENSE_HISTORY:k.a.LICENSE_HISTORY,g=e=>{e.stopPropagation()},f=e=>{r("sign-out"),Object(S.a)(),g(e),window.adobeIMS.signOut()},E=e=>a=>{r(e),g(a)};return c.a.createElement(A.a,{trigger:"click",defaultShow:d,placement:"bottom left",delayHide:0},c.a.createElement(R.c,{"data-t":"navbar-profile-dropdown-button","aria-label":b.formatMessage(_.a["navbar.profile.dropdown.ariaLabel"]),quiet:!0,variant:"action"},c.a.createElement(C.a,{alt:n,dataT:"navbar-profile-icon",imageUrl:t,rounded:!0,size:O.AVATAR_XSMALL})),c.a.createElement(R.i,{"data-t":"navbar-profile-dropdown-menu"},c.a.createElement(M.a,null,c.a.createElement(R.j,{isMainProfileList:!0},c.a.createElement(R.g,null,c.a.createElement(C.a,{alt:n,dataT:"avatar-image",imageUrl:t,rounded:!0,size:O.AVATAR_LARGE}),c.a.createElement(R.b,null,c.a.createElement(R.f,{"data-t":"avatar-profile-name-label"},o),c.a.createElement(R.e,{"data-t":"avatar-profile-email-label"},i),c.a.createElement(T.a,{"data-t":"avatar-manage-account-link",onClick:()=>{E("manage-account"),window.location.assign(a)},href:a},c.a.createElement("span",{"data-t":"avatar-manage-account-label"},c.a.createElement(s.IntlProvider,{defaultLocale:b.defaultLocale,locale:b.locale,messages:N.a[b.locale]},c.a.createElement(s.FormattedMessage,{id:"navbar.manageAccount.link",defaultMessage:"Manage Account"}))))))),c.a.createElement(R.j,null,c.a.createElement(R.l,null,c.a.createElement(s.IntlProvider,{defaultLocale:b.defaultLocale,locale:b.locale,messages:N.a[b.locale]},c.a.createElement(s.FormattedMessage,{id:"navbar.profile.dropdown.heading",defaultMessage:"Adobe Stock"}))),c.a.createElement(R.a,null,c.a.createElement(s.IntlProvider,{defaultLocale:b.defaultLocale,locale:b.locale,messages:N.a[b.locale]},c.a.createElement(s.FormattedMessage,{id:"navbar.licenseHistory.link",defaultMessage:"License History"},e=>c.a.createElement(R.h,l()({"data-t":"avatar-member-license-history",onClick:E("license-history")},{href:m,title:e}),e))))),c.a.createElement(R.j,null,c.a.createElement(R.a,null,c.a.createElement(s.IntlProvider,{defaultLocale:b.defaultLocale,locale:b.locale,messages:N.a[b.locale]},c.a.createElement(s.FormattedMessage,{id:"navbar.auth.signOut",defaultMessage:"Sign Out"},e=>c.a.createElement(R.h,{"data-t":"susi-logout",onClick:f,className:"js-susi-logout"},e))))))))}H.propTypes={adobeAccountUrl:d.string.isRequired,avatarImageUrl:d.string.isRequired,avatarAlt:d.string,currentProfileName:d.string.isRequired,email:d.string.isRequired,trackProfileDropdownClick:d.func.isRequired,defaultShow:d.bool,isFollowContributorEnabled:d.bool,isSudLicenseHistoryForEnterpriseEnabled:d.bool,intl:Object(d.shape)(f.a).isRequired},H.defaultProps={avatarAlt:"Profile",defaultShow:!1,isFollowContributorEnabled:!1,isSudLicenseHistoryForEnterpriseEnabled:!1};var F=Object(P.a)(H,N.a),U=t(253),z=t(103);function q(e){let{config:a,intl:t,navbarPhoneNumber:n,isNavbarV2Enabled:o}=e;const s={trackEvent:e=>{let{subtype:a}=e}},d=e=>s.trackEvent({subtype:e}),m={createHref:()=>"/",location:{pathname:"/"}},{pathname:f}=window.location,E=function(e){let{location:a}=e;const{pathname:t}=a,n=t.split("/")[1];return h.a.has(n)?n:h.z}(window),{isGloballySafeCollectionEnabled:S,urls:I,app:{environment:A},authentication:{imsClientId:P}}=a,y=v.a.has(E),[C,O]=Object(r.useState)(!1),[j,M]=Object(r.useState)(null),[N,R]=Object(r.useState)(null),[T,_]=Object(r.useState)(null);if(!window.adobeIMS){const e=function(e){const a=e.pathname.split("/")[1];return/^[a-z]{2}$/.test(a)?a:"us"}(window.location);H=i()({},a.authentication,{imsLocale:e}),window.adobeid={client_id:H.imsClientId,scope:H.scopes.join(","),locale:H.imsLocale,environment:"stg1",useLocalStorage:!1,autoValidateToken:!0,redirect_uri:window.location.href,api_parameters:{authorize:{redirect_uri:window.location.href}},onAccessToken(e){},onReauthAccessToken(e){},onError(e){},onAccessTokenHasExpired(){},onReady(e){},onProfile:e=>{}};!async function(e){if(await e.initialize(),window.adobeIMS=e,window.adobeIMS.isSignedInUser()){O(!0);const e=window.adobeIMS.getAccessToken();M(e),-1!==window.location.hash.indexOf("access_token")&&(window.location.hash=window.location.hash.replace(/access_token[^&]*&?/,""));const a=await async function(){return window.adobeIMS.getProfile()}();_(a),fetch(`https://cc-api-behance-stage.adobe.io/v2/users/${a.userId}?api_key=${P}`).then(e=>e.json()).then(e=>{var a,t;null!=e&&null!==(a=e.user)&&void 0!==a&&null!==(t=a.images)&&void 0!==t&&t[115]&&R(e.user.images[115])}).catch(e=>{})}}(new b.a(window.adobeid))}var H;const q=C?c.a.createElement(F,{adobeAccountUrl:Object(u.getLocalizedURL)(I.nonLocalized.adobeAccount,t.locale),currentProfileName:T&&T.name?T.name:"",email:T&&T.email?T.email:"",avatarImageUrl:N,avatarAlt:t.messages["navbar.avatar.text"],trackProfileDropdownClick:d,isSudLicenseHistoryForEnterpriseEnabled:!0}):{href:"#",text:t.messages["navbar.auth.signIn"],title:t.messages["navbar.auth.signIn"],onClick:()=>{d("sign-in"),window.adobeIMS.signIn()}},V=Object(L.b)({intl:t,history:m,tracking:s,allowList:S?k.b:[],pathname:f,basename:E}),D=Object(L.c)({intl:t,history:m,tracking:s,allowList:S?k.b:[],pathname:f,basename:E}),x={intl:t,history:m,tracking:s,urls:I,isAuthenticated:C,isPersonalProfileActive:!1,creditCardPurchaseEligibility:{},isTeam:!1,basename:E},G=Object(L.d)(x),$=Object(L.a)({intl:t,navbarPhoneNumber:n,tracking:s,urls:I}),J={text:t.messages["navbar.leftlinks.more.text"],dataTPrefix:"more",onClick:()=>d("more")},W={accessToken:j,adobeId:T&&T.userId?T.userId:"",countryCode:w.a.get(E)};return c.a.createElement(r.Fragment,null,c.a.createElement(p.a,l()({accountOrSignIn:q,adobeLogoLink:{href:Object(u.getLocalizedURL)(I.nonLocalized.adobeDotCom,t.locale),title:t.messages["navbar.adobeLogoLink.title"]},onAdobeLogoIconClick:()=>d("adobe-logo-icon"),stockLogoLink:{href:"/",title:t.messages["navbar.stockLogo.link.ariaLabel"]},onStockLogoLinkClick:()=>{d("stock-logo")},isTier1Country:y,leftLinks:V},!!o&&{LeftLinksV2:c.a.createElement(z.a,{intl:t,trackNavbarMarketplaceClick:d,isNavbarV2WithoutFreePremiumEnabled:!1,basename:E})},{rightLinks:G,helpDropdownLinks:$,removalPriorityLinks:D,moreNavLinkObject:J,locale:t.locale,isGloballySafeCollectionEnabled:S,defaultEntitlementQuota:[],WaffleLeftNav:c.a.createElement(U.a,{intl:t,isGloballySafeCollectionEnabled:S,urls:I,isAuthenticated:C,isPersonalProfileActive:!1,creditCardPurchaseEligibility:{},isTeam:!1,env:A,imsClientId:P,trackNavbarMarketplaceClick:d,placeholderIcon:c.a.createElement(g.a,{size:"S"}),imsData:W,isNavbarV2Enabled:o||!1}),isHomepageActive:"/"===f})))}const V=Object(d.shape)({isGloballySafeCollectionEnabled:d.bool.isRequired});q.defaultProps={navbarPhoneNumber:"",isNavbarV2Enabled:!1},q.propTypes={config:V.isRequired,intl:Object(d.shape)(f.a).isRequired,navbarPhoneNumber:d.string,isNavbarV2Enabled:d.bool};a.default=Object(s.injectIntl)(q)}}]);