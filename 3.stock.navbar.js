(window.webpackJsonpstockNavbar=window.webpackJsonpstockNavbar||[]).push([[3],Array(23).concat([function(e,t,r){var n=r(49)("wks"),o=r(51),i=r(25).Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=n},function(e,t,r){var n=r(34);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(53),o=r(74);e.exports=r(37)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdobeIdKey="adobeid",t.AdobeIMSKey="adobeIMS",t.AdobeImsFactory="adobeImsFactory",t.DEFAULT_LANGUAGE="en_US",function(e){e.LocalStorage="local",e.SessionStorage="session",e.MemoryStorage="memory"}(t.STORAGE_MODE||(t.STORAGE_MODE={})),t.HEADERS={AUTHORIZATION:"Authorization",X_IMS_CLIENT_ID:"X-IMS-ClientId",RETRY_AFTER:"Retry-after"},t.PROFILE_STORAGE_KEY="adobeid_ims_profile",t.TOKEN_STORAGE_KEY="adobeid_ims_access_token",t.ON_IMSLIB_INSTANCE="onImsLibInstance",t.ASK_FOR_IMSLIB_INSTANCE_DOM_EVENT_NAME="getImsLibInstance"},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.logEnabled=!1,this.print=function(t,r){e.logEnabled&&t.apply(void 0,o(r))},this.assert=function(t,r){e.print(console.assert,[t,r])},this.assertCondition=function(t,r){t()||e.print(console.error,[r])},this.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e.print(console.error,t)},this.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e.print(console.warn,t)},this.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e.print(console.info,t)}}return e.prototype.enableLogging=function(){this.logEnabled=!0},e.prototype.disableLogging=function(){this.logEnabled=!1},e}();t.default=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(78),o=function(){function e(){this.baseUrlAdobe="",this.baseUrlServices="",this.jslibver="v2-v0.29.0-1-ge0d180e"}return e.prototype.loadEnvironment=function(e){if(e===n.IEnvironment.STAGE)return this.baseUrlAdobe="https://ims-na1-stg1.adobelogin.com",void(this.baseUrlServices="https://adobeid-na1-stg1.services.adobe.com");this.baseUrlAdobe="https://ims-na1.adobelogin.com",this.baseUrlServices="https://adobeid-na1.services.adobe.com"},e}();t.default=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.uriEncodeData=function(e){if("object"!=typeof e)return"";var t,r=[],n="";for(var o in e)void 0!==(t=e[o])&&(n=this.encodeValue(t),r.push(encodeURIComponent(o)+"="+n));return r.join("&")},e.prototype.encodeValue=function(e){return null===e?"null":"object"==typeof e?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e)},e.prototype.replaceUrl=function(e){e&&window.location.replace(e)},e.prototype.setHrefUrl=function(e){e&&(window.location.href=e)},e.prototype.setHash=function(e){void 0===e&&(e=""),window.location.hash=e},e}();t.default=new n},,,function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){e.exports=!r(38)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(25),o=r(26),i=r(40),s=r(51)("src"),a=r(101),c=(""+a).split("toString");r(50).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,r,a){var u="function"==typeof r;u&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(u&&(i(r,s)||o(r,s,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:a?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(77),i=r(27),s=n(r(28)),a=function(){function e(){this.memoryStorageInstance=null}return Object.defineProperty(e.prototype,"memoryStorage",{get:function(){return this.memoryStorageInstance||(this.memoryStorageInstance=new o.MemoryStorage),this.memoryStorageInstance},enumerable:!0,configurable:!0}),e.prototype.getStorageByName=function(e){var t=this.getStorageInstanceByName(e);return t&&this.verifyStorage(t)?t:this.memoryStorage},e.prototype.getStorageInstanceByName=function(e){if(e===i.STORAGE_MODE.MemoryStorage)return this.memoryStorage;try{return e===i.STORAGE_MODE.LocalStorage?window.localStorage:window.sessionStorage}catch(e){return s.default.warn("Please change your cookies settings in order to allow local data to be set"),null}},e.prototype.getAvailableStorage=function(){var e=this.getStorageByName(i.STORAGE_MODE.LocalStorage);return e instanceof o.MemoryStorage?this.getStorageByName(i.STORAGE_MODE.SessionStorage):e},e.prototype.verifyStorage=function(e){try{return e.setItem("test","true"),"true"===e.getItem("test")&&(e.removeItem("test"),!0)}catch(e){return!1}},e}();t.default=new a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(54),o=function(){function e(){this.getCustomApiParameters=function(e,t){return e[t]||{}}}return e.prototype.mergeExternalParameters=function(e,t,r){return n.merge(this.getCustomApiParameters(t,r),e)},e.prototype.toJson=function(e){try{return"string"!=typeof e?e:JSON.parse(e)}catch(e){return null}},e}();t.default=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.error,r=e.retryAfter,n=void 0===r?0:r,o=e.message,i=void 0===o?"":o;this.error=t,this.retryAfter=n,this.message=i};t.HttpErrorResponse=n},function(e,t,r){for(var n=r(130),o=r(87),i=r(39),s=r(25),a=r(26),c=r(60),u=r(23),l=u("iterator"),f=u("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),v=0;v<h.length;v++){var g,m=h[v],y=p[m],_=s[m],b=_&&_.prototype;if(b&&(b[l]||a(b,l,d),b[f]||a(b,f,m),c[m]=d,y))for(g in n)b[g]||i(b,g,n[g],!0)}},function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(64);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach((function(t){n(e,t,r[t])}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(36),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(50),o=r(25),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(70)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){"use strict";var n,o,i=r(98),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,u=(n=/a/,o=/b*/g,s.call(n,"a"),s.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,r,n,o,c=this;return l&&(r=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),n=s.call(c,e),u&&n&&(c.lastIndex=c.global?n.index+n[0].length:t),l&&n&&n.length>1&&a.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=c},function(e,t,r){var n=r(24),o=r(99),i=r(100),s=Object.defineProperty;t.f=r(37)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";function n(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=n,t.merge=function e(t,r){if(null==t)return r;if(t===r)return t;if(!n(t))return t;var o=Object.assign({},t);return n(r)&&Object.keys(r).forEach((function(i){var s,a;n(r[i])?i in t?o[i]=e(t[i],r[i]):Object.assign(o,((s={})[i]=r[i],s)):Object.assign(o,((a={})[i]=r[i],a))})),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.force="force",e.check="check"}(t.IReauth||(t.IReauth={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.token="token",e.code="code"}(t.IGrantTypes||(t.IGrantTypes={}))},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(41));t.ONE_HOUR=1296e4;var a=function(){function e(){this.storage=s.default.getAvailableStorage()}return e.prototype.b64Uri=function(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.prototype.createCodeChallenge=function(e,t){var r=this;void 0===t&&(t=43);for(var n=window.msCrypto||window.crypto,i=this.b64Uri(Array.prototype.map.call(n.getRandomValues(new Uint8Array(t)),(function(e){return String.fromCharCode(e)})).join("")).substring(0,t),s=new Uint8Array(i.length),a=0;a<i.length;a++)s[a]=i.charCodeAt(a);var c=n.subtle.digest("SHA-256",s);return new Promise((function(t,n){window.CryptoOperation?(c.onerror=function(e){return n(e)},c.oncomplete=function(n){var s=new Uint8Array(n.target.result),a=r.b64Uri(String.fromCharCode.apply(String,o(s)));return t(r.saveVerifierAndReturn(e,{verifier:i,challenge:a}))}):c.then((function(n){var s=new Uint8Array(n),a=r.b64Uri(String.fromCharCode.apply(String,o(s)));return t(r.saveVerifierAndReturn(e,{verifier:i,challenge:a}))}))}))},e.prototype.saveVerifierAndReturn=function(e,t){var r=this.getVerifierValuesFromStorage(),n={verifier:t.verifier||"",expiry:(new Date).getTime().toString()};return r[e]=n,this.storage.setItem("verifiers",JSON.stringify(r)),Promise.resolve(t)},e.prototype.getVerifierValuesFromStorage=function(){var e=this.storage.getItem("verifiers"),t=e?JSON.parse(e):{};return this.clearOlderVerifiers(t)},e.prototype.clearOlderVerifiers=function(e,r){void 0===r&&(r=t.ONE_HOUR);var n=Date.now()-r;return Object.keys(e).forEach((function(t){parseInt(e[t])<n&&delete e[t]})),e},e.prototype.getVerifierByKey=function(e){var t=this.getVerifierValuesFromStorage(),r=t?t[e]:{};return delete t[e],this.storage.setItem("verifiers",JSON.stringify(t)),r?r.verifier:""},e}();t.CodeChallenge=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){void 0===r&&(r=!1),this.jump="",this.code=e,this.jump=t,this.isPbaExpiredIdleSessionWorkaround=r};t.RideException=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortScopes=function(e){return e.split(",").sort().join(",")},t.validateScopeInclusion=function(e,t){var r=(null==t?void 0:t.split(","))||[];return((null==e?void 0:e.split(","))||[]).every((function(e){return r.includes(e)}))}},function(e,t){e.exports={}},function(e,t,r){var n=r(133),o=r(35);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(49)("keys"),o=r(51);e.exports=function(e){return n[e]||(n[e]=o(e))}},,function(e,t,r){var n=r(65);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(33).default,o=r(94);e.exports=function(e){var t=o(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(24),o=r(67),i=r(47),s=r(36),a=r(68),c=r(69),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(71)("replace",2,(function(e,t,r,h){return[function(n,o){var i=e(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,i,o):r.call(String(i),n,o)},function(e,t){var o=h(r,e,this,t);if(o.done)return o.value;var f=n(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}for(var y=[];;){var _=c(f,d);if(null===_)break;if(y.push(_),!g)break;""===String(_[0])&&(f.lastIndex=a(d,i(f.lastIndex),m))}for(var b,S="",k=0,O=0;O<y.length;O++){_=y[O];for(var I=String(_[0]),w=u(l(s(_.index),d.length),0),P=[],R=1;R<_.length;R++)P.push(void 0===(b=_[R])?b:String(b));var E=_.groups;if(p){var T=[I].concat(P,w,d);void 0!==E&&T.push(E);var x=String(t.apply(void 0,T))}else x=v(I,d,w,P,E,t);w>=k&&(S+=d.slice(k,w)+x,k=w+I.length)}return S+d.slice(k)}];function v(e,t,n,i,s,a){var c=n+e.length,u=i.length,l=p;return void 0!==s&&(s=o(s),l=d),r.call(a,l,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":a=s[o.slice(1,-1)];break;default:var l=+o;if(0===l)return r;if(l>u){var d=f(l/10);return 0===d?r:d<=u?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):r}a=i[l-1]}return void 0===a?"":a}))}}))},function(e,t,r){var n=r(35);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(95)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){"use strict";var n=r(96),o=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t){e.exports=!1},function(e,t,r){"use strict";r(97);var n=r(39),o=r(26),i=r(38),s=r(35),a=r(23),c=r(52),u=a("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var d=a(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!i((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var v=/./[d],g=r(s,d,""[e],(function(e,t,r,n,o){return t.exec===c?p&&!o?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),m=g[0],y=g[1];n(String.prototype,e,m),o(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,r){var n=r(25),o=r(50),i=r(26),s=r(39),a=r(102),c=function(e,t,r){var u,l,f,d,p=e&c.F,h=e&c.G,v=e&c.S,g=e&c.P,m=e&c.B,y=h?n:v?n[t]||(n[t]={}):(n[t]||{}).prototype,_=h?o:o[t]||(o[t]={}),b=_.prototype||(_.prototype={});for(u in h&&(r=t),r)f=((l=!p&&y&&void 0!==y[u])?y:r)[u],d=m&&l?a(f,n):g&&"function"==typeof f?a(Function.call,f):f,y&&s(y,u,f,e&c.U),_[u]!=f&&i(_,u,d),g&&b[u]!=f&&(b[u]=f)};n.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){var n=r(34),o=r(25).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(107),s=o(r(28)),a=r(108),c=r(109),u=r(111),l=r(112),f=r(116),d=r(55),p=r(82),h=r(122),v=r(123),g=o(r(30)),m=o(r(84)),y=r(83),_=r(85),b=r(58),S=r(43),k=o(r(129)),O=r(27),I=o(r(29)),w=r(56),P=r(86),R=r(57),E=function(){function e(e){var t=this;void 0===e&&(e=null),this.initialized=!1,this.onPopupMessage=function(e){return g.default.replaceUrl(e),t.initialize()},this.signIn=function(e,r,n){void 0===e&&(e={}),void 0===n&&(n=w.IGrantTypes.token),t.checkInitialized();var o=t,i=o.adobeIdData,s=o.csrfService.initialize();return i.createRedirectRequest(e,r,s,n).then((function(e){t.signInservice.signIn(e)}))},this.authorizeToken=function(e,r,n,o){void 0===e&&(e=""),void 0===r&&(r={}),void 0===o&&(o=w.IGrantTypes.token);var i=t,s=i.adobeIdData,c=i.csrfService.initialize();return s.createRedirectRequest(r,n,c,o).then((function(t){(new a.SignInService).authorizeToken(e,t)}))},this.reAuthenticate=function(e,r,n,o){void 0===e&&(e={}),void 0===r&&(r=d.IReauth.check),void 0===o&&(o=w.IGrantTypes.token),t.checkInitialized();var i=t,s=i.adobeIdData,a=i.csrfService.initialize();return s.createReAuthenticateRedirectRequest(e,n,a,r,o).then((function(e){t.signInservice.signIn(e)}))},this.signInWithSocialProvider=function(e,r,n,o){if(void 0===r&&(r={}),void 0===o&&(o=w.IGrantTypes.token),t.checkInitialized(),!e)throw new Error("please provide the provider name");var i=t,s=i.adobeIdData,a=i.csrfService.initialize();s.createSocialProviderRedirectRequest(e,r,n,a,o).then((function(e){t.signInservice.signIn(e)}))},this.signOut=function(e){void 0===e&&(e={}),t.checkInitialized(),t.tokenService.purge(),t.profileService.removeProfile();var r=t.adobeIdData,n=r.api_parameters,o=void 0===n?{}:n,i=r.client_id,s={adobeIdRedirectUri:r.redirect_uri,apiParameters:o,clientId:i,externalParameters:e};(new u.SignOutService).signOut(s)},this.refreshToken=function(e,r){if(void 0===e&&(e={}),void 0===r&&(r=!1),!r&&e.userInactiveSince){var n=e.userInactiveSince,o=Date.now()-1e3*n;o>k.default.lastUserInteraction&&(k.default.lastUserInteraction=o)}return t.tokenService.refreshToken(e).then((function(e){return t.onTokenProfileReceived(e)})).catch((function(e){if(s.default.error("refresh token error",e),e instanceof S.HttpErrorResponse)return Promise.reject(e);var r=t.verifyRideErrorExceptionStrict(e);return r||(t.profileService.removeProfile(),t.onTokenExpired(),Promise.reject(e))}))},this.switchProfile=function(e,r){return void 0===r&&(r={}),e?t.tokenService.switchProfile(e,r).then((function(e){return t.onTokenProfileReceived(e)})).catch((function(e){return t.verifyRideErrorException(e)})):Promise.reject(new Error("Please provide the user id for switchProfile"))},this.triggerOnImsInstance=function(e){var r=document.createEvent("CustomEvent"),n={clientId:t.adobeIdData.client_id,instance:e};r.initCustomEvent(O.ON_IMSLIB_INSTANCE,!1,!1,n),window.dispatchEvent(r)},this.processInitializeException=function(e){void 0===e&&(e={});var r=t.adobeIdData.handlers;return s.default.warn("initialize",e),e instanceof P.ModalSignInEvent?t.notifyParentAboutModalSignIn(e):(t.restoreHash(),e instanceof _.TokenExpiredException&&r.triggerOnAccessTokenHasExpired(),Promise.reject(e))},this.verifyRideErrorException=function(e){return e instanceof b.RideException&&(e.isPbaExpiredIdleSessionWorkaround?t.signIn():e.jump&&g.default.replaceUrl(e.jump)),Promise.reject(e)},this.verifyRideErrorExceptionStrict=function(e){return e instanceof b.RideException?t.verifyRideErrorException(e):null},this.verifyCsrfException=function(e){var r=e.type;return r&&r===y.IErrorType.CSRF&&t.signOut(),Promise.reject(e)},this.processTokenResponse=function(e){var r=t.adobeIdData.handlers,n=e.tokenFields,o=e.profile,i=n.tokenValue,a=n.state,c=n.expire,u=n.sid,l=n.user_id,f=n.other,d=void 0===f?{}:f,p=n.impersonatorId,h=n.isImpersonatedSession;s.default.info("token",i),d.from_ims&&g.default.setHash(d.old_hash||""),t.profileService.removeProfileIfOtherUser(l);var v={token:i,expire:c,sid:u,impersonatorId:p,isImpersonatedSession:h};return n.isReauth()?r.triggerOnReauthAccessToken(v):t.tokenReceived(v),o&&t.profileService.saveProfileToStorage(o),Promise.resolve(a)},this.exchangeIjt=function(e){var r=t.adobeIdData.ijt;return e||r?t.tokenService.exchangeIjt(e||r).then((function(e){return t.profileService.removeProfile(),Promise.resolve(e)})):Promise.reject(new Error("please set the adobeid.ijt value"))},this.adobeIdData=new l.AdobeIdData(e);var r=this.adobeIdData,o=r.api_parameters,p=void 0===o?{}:o,m=r.client_id,I=r.scope,R=r.useLocalStorage,E=r.autoValidateToken,T=r.modalMode,x=r.modalSettings;this.imsApis=new f.ImsApis(p),this.csrfService=new i.CsrfService(m),this.serviceRequest={clientId:m,scope:I,imsApis:this.imsApis},this.tokenService=new v.TokenService(n(n({},this.serviceRequest),{useLocalStorage:R,autoValidateToken:E}),this.csrfService),this.profileService=new h.ProfileService(this.serviceRequest),this.signInservice=T?new c.SignInModalService(this.onPopupMessage,x):new a.SignInService}return Object.defineProperty(e.prototype,"version",{get:function(){return I.default.jslibver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adobeid",{get:function(){return n({},this.adobeIdData)},enumerable:!0,configurable:!0}),e.prototype.enableLogging=function(){s.default.enableLogging()},e.prototype.disableLogging=function(){s.default.disableLogging()},e.prototype.checkInitialized=function(){this.initialized},e.prototype.signUp=function(e,t){var r=this;void 0===e&&(e={}),this.checkInitialized();var n=this.adobeIdData,o=this.csrfService;if(!n)throw new Error("no adobeId on reAuthenticate");var i=o.initialize();return n.createSignUpRedirectRequest(e,t,i).then((function(e){r.signInservice.signIn(e)}))},e.prototype.isSignedInUser=function(){return!(!this.getAccessToken()&&!this.getReauthAccessToken())},e.prototype.getProfile=function(){var e=this,t=this.profileService.getProfileFromStorage();if(t)return Promise.resolve(t);var r=this.getAccessToken()||this.getReauthAccessToken();if(!r){return Promise.reject(new p.ProfileException("please login before getting the profile"))}return this.profileService.getProfile(r.token).then((function(e){return Promise.resolve(e)})).catch((function(t){return s.default.error("get profile exception ",t),t instanceof S.HttpErrorResponse?e.refreshToken().then((function(e){return Promise.resolve(e.profile)})):Promise.reject(new p.ProfileException(t.message||t))}))},e.prototype.avatarUrl=function(e){return this.imsApis.avatarUrl(e)},e.prototype.getReleaseFlags=function(){return this.tokenService.getReleaseFlags()},e.prototype.getAccessToken=function(){var e=this.tokenService.getTokenFieldsFromStorage();return e?{token:e.tokenValue,expire:e.expire,sid:e.sid}:null},e.prototype.getReauthAccessToken=function(){var e=this.tokenService.getTokenFieldsFromStorage(!0);return e?{token:e.tokenValue,expire:e.expire,sid:e.sid}:null},e.prototype.listSocialProviders=function(){var e=this;return new Promise((function(t,r){var n=e.adobeIdData.client_id;e.imsApis.listSocialProviders({client_id:n}).then((function(e){t(e)})).catch((function(e){r(e)}))}))},e.prototype.tokenReceived=function(e){this.adobeIdData.handlers.triggerOnAccessToken(e),k.default.startAutoRefreshFlow({expire:e.expire,refreshTokenMethod:this.refreshToken})},e.prototype.onTokenProfileReceived=function(e){var t=e.tokenInfo,r=e.profile;return s.default.info("token",t),this.tokenReceived(t),this.profileService.saveProfileToStorage(r),Promise.resolve(e)},e.prototype.validateToken=function(){var e=this;return this.tokenService.validateToken().then((function(){return Promise.resolve(!0)})).catch((function(t){return s.default.warn("validate token exception",t),t instanceof S.HttpErrorResponse||e.profileService.removeProfile(),Promise.reject(!1)}))},e.prototype.onTokenExpired=function(){var e=this.adobeIdData.handlers;this.tokenService.purge(),e.triggerOnAccessTokenHasExpired()},e.prototype.setStandAloneToken=function(e){return this.tokenService.setStandAloneToken(e)},e.prototype.initialize=function(){var e=this,t=this.adobeIdData,r=t.handlers,n=t.standalone,o=t.ijt,i=null;return n&&this.setStandAloneToken(n),(o?this.exchangeIjt:this.tokenService.getTokenAndProfile)().then(this.processTokenResponse,(function(t){return e.processInitializeException(t).catch((function(t){return e.verifyRideErrorException(t)})).catch((function(t){return e.verifyCsrfException(t).catch((function(e){return s.default.info("initialize exception ended",e)}))}))})).then((function(e){i=e})).finally((function(){return s.default.info("onReady initialization"),window.addEventListener(O.ASK_FOR_IMSLIB_INSTANCE_DOM_EVENT_NAME,(function(){e.triggerOnImsInstance(e)}),!1),r.triggerOnReady(i?i.context:null),e.triggerOnImsInstance(e),e.initialized=!0,Promise.resolve(i)}))},e.prototype.notifyParentAboutModalSignIn=function(e){var t=window.location.href.replace("imslibmodal","wasmodal");return window.opener?(window.opener.postMessage(t,"*"),window.close()):window[""+e.wndRedirectPropName]=t,Promise.reject("popup")},e.prototype.restoreHash=function(){var e=m.default.fragmentToObject();e&&e.from_ims&&g.default.setHash(e.old_hash||"")},e.prototype.getTransitoryAuthorizationCode=function(e,t){return void 0===t&&(t={}),(e=e||{}).response_type=e.response_type||"code",e.target_client_id=e.target_client_id||this.adobeIdData.client_id,e.target_scope=e.target_scope||this.adobeIdData.scope,this.imsApis.getTransitoryAuthorizationCode(e,t,this.adobeIdData.client_id)},e.prototype.jumpToken=function(e,t){return void 0===t&&(t={}),e.target_client_id=e.target_client_id||this.adobeIdData.client_id,e.target_scope=e.target_scope||this.adobeIdData.scope,this.imsApis.jumpToken(e,t,this.adobeIdData.client_id)},e.prototype.getVerifierByKey=function(e){return(new R.CodeChallenge).getVerifierByKey(e)},e}();t.AdobeIMS=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.data={},this.length=0}return e.prototype.clear=function(){this.data={},this.length=0},e.prototype.getItem=function(e){var t=this.data[e];return t||null},e.prototype.removeItem=function(e){return!!this.data[e]&&(delete this.data[e],--this.length,!0)},e.prototype.setItem=function(e,t){this.data[e]||++this.length,this.data[e]=t},e.prototype.key=function(e){throw new Error("Method not implemented. "+e)},e}();t.MemoryStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STAGE="stg1",e.PROD="prod"}(t.IEnvironment||(t.IEnvironment={}))},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(30)),s=o(r(29)),a=r(80),c=r(54),u=function(){var e=this;this.composeRedirectUrl=function(e){var t=e.apiParameters,r=e.externalParameters,o=void 0===r?{}:r,i=e.adobeIdRedirectUri,u=void 0===i?"":i,l=e.clientId,f=e.locale,d=e.state,p=void 0===d?{}:d,h=e.scope,v=void 0===h?o.scope||t.scope||"":h,g=a.RedirectHelper.mergeApiParamsWithExternalParams(t,o,"authorize");p&&(g.state=c.merge(g.state||{},p));var m=a.RedirectHelper.createRedirectUrl(u,l,g,"authorize",v),y=o.locale||f||"",_=e.response_type,b=void 0===_?g.response_type||"":_;return n(n({},g),{client_id:l,scope:v,locale:y,response_type:b,jslVersion:s.default.jslibver,redirect_uri:m})},this.createRedirectUrl=function(t){var r=e.composeRedirectUrl(t),n=i.default.uriEncodeData(r);return s.default.baseUrlAdobe+"/ims/authorize/v1?"+n}};t.BaseSignInService=u},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(42)),i=r(54),s=function(){function e(){}return e.getInitialRedirectUri=function(e,t){var r=e.redirect_uri||t||window.location.href,n="function"==typeof r?r():r,o=n.indexOf("from_ims");return-1===o?n:("#"===n[o-1]&&o--,n.substr(0,o))},e.createDefaultRedirectUrl=function(e,t,r,n){var o=this.getInitialRedirectUri(r,e),i=this.createOldHash(o);return i.indexOf("?")>0?i+"&client_id="+t+"&api="+n:i+"?client_id="+t+"&api="+n},e.createRedirectUrl=function(e,t,r,n,o){void 0===o&&(o="");var i=this.createDefaultRedirectUrl(e,t,r,n);(o=o||r.scope||"")&&(i=i+"&scope="+o);var s=r.reauth||"";return s&&(i=i+"&reauth="+s),i},e.createOldHash=function(e){var t=e.indexOf("#");return t<0?e+"#old_hash=&from_ims=true":e.substring(0,t)+"#old_hash="+e.substring(t+1)+"&from_ims=true"},e.mergeApiParamsWithExternalParams=function(e,t,r){return i.merge(o.default.getCustomApiParameters(e,r),t)},e}();t.RedirectHelper=s},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(27),s=r(78),a=o(r(29)),c=r(115),u=o(r(28)),l=r(55),f=r(56),d=r(57),p=function(){function e(e){void 0===e&&(e=null),this.analyticsParameters=new c.AnalyticsParameters,this.api_parameters={},this.locale="",this.scope="AdobeID",this.client_id="",this.environment=s.IEnvironment.PROD,this.useLocalStorage=!1,this.onReady=null;var t=e||window[i.AdobeIdKey];if(!t)throw new Error("Please provide adobeId information");var r=t.api_parameters,n=t.client_id,o=t.locale,l=t.scope,f=t.ijt,d=t.environment,p=void 0===d?s.IEnvironment.PROD:d,h=t.redirect_uri,v=t.useLocalStorage,g=t.logsEnabled,m=t.onReady,y=t.rideRedirectUri;this.environment=p,this.api_parameters=r||{},this.client_id=n,this.locale=o||i.DEFAULT_LANGUAGE,this.scope=l?l.replace(/\s/gi,""):"",this.redirect_uri=h,this.ijt=f,this.useLocalStorage=v,g?u.default.enableLogging():u.default.disableLogging(),this.onReady=m||null,this.rideRedirectUri=y,this.fillAnalityticsParameters(t),a.default.loadEnvironment(p)}return e.prototype.fillAnalityticsParameters=function(e){var t=e.analytics,r=void 0===t?{}:t,n=r.appCode,o=void 0===n?"":n,i=r.appVersion,s=void 0===i?"":i,a=this.analyticsParameters;a.appCode=o,a.appVersion=s},e.prototype.createSocialProviderRedirectRequest=function(e,t,r,o,i){var s={idp_flow:"social.deep_link.web",provider_id:e},a=n(n({},t),s);return this.createRedirectRequest(a,r,o,i)},e.prototype.createReAuthenticateRedirectRequest=function(e,t,r,o,i){void 0===o&&(o=l.IReauth.check),void 0===i&&(i=f.IGrantTypes.token);var s={reauth:o},a=n(n({},e),s);return this.createRedirectRequest(a,t,r,i)},e.prototype.createSignUpRedirectRequest=function(e,t,r){var o=n(n({},e),{idp_flow:"create_account"});return this.createRedirectRequest(o,t,r,f.IGrantTypes.token)},e.prototype.createRedirectRequest=function(e,t,r,n){var o=this,i=this,s=i.api_parameters,a=void 0===s?{}:s,c=i.client_id,u=i.redirect_uri,l=void 0===u?"":u,p=i.scope,h=i.locale,v=this.createRedirectState(t,r),g={adobeIdRedirectUri:l,apiParameters:a,clientId:c,externalParameters:e,scope:p,locale:h,response_type:n,state:v};return n===f.IGrantTypes.token?Promise.resolve(g):(new d.CodeChallenge).createCodeChallenge(r).then((function(n){e.code_challenge=n.challenge,e.code_challenge_method="S256";var i=o.createRedirectState(t,r);return g.state=i,Promise.resolve(g)}))},e.prototype.createRedirectState=function(e,t){var r=this.analyticsParameters,n=r.appCode,o=void 0===n?"":n,i=r.appVersion,s=void 0===i?"":i,c=void 0===e?{}:{context:e};return o&&(c.ac=o),s&&(c.av=s),c.jslibver=a.default.jslibver,c.nonce=t,Object.keys(c).length?c:null},e.prototype.triggerOnReady=function(){this.onReady&&this.onReady(void 0)},e.prototype.computeRideRedirectUri=function(e){return this.rideRedirectUri?"string"==typeof this.rideRedirectUri?"DEFAULT"===this.rideRedirectUri?null:this.rideRedirectUri:this.rideRedirectUri(e):window.location.href},e}();t.AdobeIdThinData=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(83),o=function(e){this.message=null,this.errorType=n.IErrorType.PROFILE_EXCEPTION,this.message=e};t.ProfileException=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INITIALIZE_ERROR="initialize_error",e.HTTP="http",e.FRAGMENT="fragment",e.CSRF="csrf",e.NOT_AUTHORIZE="not_authorize",e.PROFILE_EXCEPTION="profile_exception",e.TOKEN_EXPIRED="token_expired",e.SOCIAL_PROVIDERS="SOCIAL_PROVIDERS",e.RIDE_EXCEPTION="ride_exception"}(t.IErrorType||(t.IErrorType={}))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(42)),i=function(){function e(){}return e.prototype.fragmentToObject=function(){var e=this.getHashFromURL();if(!e)return null;var t=this.processHashUrl(e),r=this.getOldHash(t),n=r?t.slice(t.indexOf("old_hash")):t,i=this.removeOldHash(n),s=this.getQueryParamsAsMap(i);r&&(s.old_hash=r);var a=s.state;return a&&(s.state=o.default.toJson(a)),s},e.prototype.getOldHash=function(e){if(!e)return"";var t=e.match("old_hash=(.*?)&from_ims=true");return t?t[1]:""},e.prototype.removeOldHash=function(e){return e?e.replace(/old_hash=(.*?)&from_ims=true/gi,"from_ims=true"):e},e.prototype.getHashFromURL=function(e){void 0===e&&(e=window.location.href);var t=e.indexOf("#");return-1!==t?e.substring(t+1):""},e.prototype.getQueryParamsAsMap=function(e){if(!e)return{};var t={};return(e=e.replace(/^(#\/|\/|#|\?|&)/,"")).split("&").forEach((function(e){if(e.length){var r=e.split("=");t[r[0]]=decodeURIComponent(r[1])}})),t},e.prototype.processHashUrl=function(e){return e.replace("?error","#error").replace(/#/gi,"&").replace("from_ims=true?","from_ims=true&")},e}();t.default=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.exception=null,this.exception=e};t.TokenExpiredException=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.wndRedirectPropName="",this.wndRedirectPropName=e};t.ModalSignInEvent=n},function(e,t,r){var n=r(138),o=r(88);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(53).f,o=r(40),i=r(23)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},,,,,function(e,t,r){var n=r(33).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(36),o=r(35);e.exports=function(e){return function(t,r){var i,s,a=String(o(t)),c=n(r),u=a.length;return c<0||c>=u?e?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):i:e?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},function(e,t,r){var n=r(48),o=r(23)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){"use strict";var n=r(52);r(72)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){"use strict";var n=r(24);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){e.exports=!r(37)&&!r(38)((function(){return 7!=Object.defineProperty(r(73)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(34);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){e.exports=r(49)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(75);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";var n=r(104),o=r(24),i=r(105),s=r(68),a=r(47),c=r(69),u=r(52),l=r(38),f=Math.min,d=[].push,p="length",h=!l((function(){RegExp(4294967295,"y")}));r(71)("split",2,(function(e,t,r,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(o,e,t);for(var i,s,a,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,l+"g");(i=u.call(v,o))&&!((s=v.lastIndex)>f&&(c.push(o.slice(f,i.index)),i[p]>1&&i.index<o[p]&&d.apply(c,i.slice(1)),a=i[0][p],f=s,c[p]>=h));)v.lastIndex===i.index&&v.lastIndex++;return f===o[p]?!a&&v.test("")||c.push(""):c.push(o.slice(f)),c[p]>h?c.slice(0,h):c}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var o=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):v.call(String(o),r,n)},function(e,t){var n=l(v,e,this,t,v!==r);if(n.done)return n.value;var u=o(e),d=String(this),p=i(u,RegExp),g=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new p(h?u:"^(?:"+u.source+")",m),_=void 0===t?4294967295:t>>>0;if(0===_)return[];if(0===d.length)return null===c(y,d)?[d]:[];for(var b=0,S=0,k=[];S<d.length;){y.lastIndex=h?S:0;var O,I=c(y,h?d:d.slice(S));if(null===I||(O=f(a(y.lastIndex+(h?0:S)),d.length))===b)S=s(d,S,g);else{if(k.push(d.slice(b,S)),k.length===_)return k;for(var w=1;w<=I.length-1;w++)if(k.push(I[w]),k.length===_)return k;S=b=O}}return k.push(d.slice(b)),k}]}))},function(e,t,r){var n=r(34),o=r(48),i=r(23)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var n=r(24),o=r(75),i=r(23)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||null==(r=n(s)[i])?t:o(r)}},function(e,t,r){"use strict";var n=r(76);r.d(t,"a",(function(){return n.AdobeIMS}))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(41)),i=r(77);t.ONE_HOUR=1296e4;var s=function(){function e(e){this.storageInstance=null,this.nonceStorageKey="",this.nonceStorageKey="nonce"+e}return Object.defineProperty(e.prototype,"storage",{get:function(){return this.storageInstance||(this.storageInstance=o.default.getAvailableStorage()),this.storageInstance},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){if(!this.isStorageAvailable())return"";var t=e.generateNonce(),r=this.getNonceFromStorage()||{};return r=this.clearOlderNonceKeys(r),this.addNonceToObject(r,t),this.saveNonceValuesToStorage(r),t.value},e.prototype.addNonceToObject=function(e,t){e[t.value]=t.expiry},e.prototype.clearOlderNonceKeys=function(e,r){void 0===r&&(r=t.ONE_HOUR);var n=Date.now()-r;return Object.keys(e).forEach((function(t){parseInt(e[t])<n&&delete e[t]})),e},e.prototype.verify=function(e){if(!this.isStorageAvailable())return!0;var t=this.getNonceFromStorage();if(!t)return!1;var r=this.clearOlderNonceKeys(t),n=null!==(r[e]||null);return n&&this.clearNonceValueFromStorage(r,e),n},e.prototype.clearNonceValueFromStorage=function(e,t){delete e[t],this.saveNonceValuesToStorage(e)},e.prototype.getNonceFromStorage=function(){var e=this.storage.getItem(this.nonceStorageKey);return e?JSON.parse(e):null},e.prototype.saveNonceValuesToStorage=function(e){this.storage.setItem(this.nonceStorageKey,JSON.stringify(e))},e.prototype.isStorageAvailable=function(){return!(this.storage instanceof i.MemoryStorage)},e.cryptoRndomString=function(){if(!window.crypto)return"";var e=new Uint32Array(3);return window.crypto.getRandomValues(e),e.join("").substr(0,16)},e.randomString=function(){var t=e.cryptoRndomString();if(t)return t;for(var r="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<16;o++)r+=n.charAt(Math.floor(Math.random()*n.length));return r},e.generateNonce=function(){return{value:e.randomString(),expiry:(new Date).getTime().toString()}},e}();t.CsrfService=s},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(30)),a=i(r(29)),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signIn=function(e){var r=t.createRedirectUrl(e);s.default.setHrefUrl(r)},t.authorizeToken=function(e,r){var n=t.composeRedirectUrl(r);e&&(n.user_assertion=e,n.user_assertion_type="urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),t.createAuthorizeForm(n).submit()},t}return o(t,e),t.prototype.createAuthorizeForm=function(e){var t=a.default.baseUrlAdobe+"/ims/authorize/v1",r=document.createElement("form");r.setAttribute("method","post"),r.setAttribute("action",t);var n=null,o=null,i="";for(var s in e){if("object"==typeof(o=e[s])){if(0===Object.keys(o).length)continue;i=JSON.stringify(o)}else i=o;""!==i&&(n=this.createFormElement("input","text",s,i),r.appendChild(n))}return document.getElementsByTagName("body")[0].appendChild(r),r},t.prototype.createFormElement=function(e,t,r,n){var o=document.createElement(e);return o.setAttribute("type",t),o.setAttribute("name",r),o.setAttribute("value",n),o},t}(r(79).BaseSignInService);t.SignInService=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(110)),c=function(e){function t(t,r){var n=e.call(this)||this;return n.signIn=function(e){e.state=i(i({},e.state),{imslibmodal:!0});var t=e.state.nonce,r=n.createRedirectUrl(e);a.default.openSignInWindow(r,t,n.popupSettings,n.onPopupMessage)},n.onPopupMessage=t,n.popupSettings=r,n}return o(t,e),t}(r(79).BaseSignInService);t.SignInModalService=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this;this.windowObjectReference=null,this.previousUrl="",this.openSignInWindow=function(t,r,n,o){e.onProcessLocation=o,e.timerId&&clearInterval(e.timerId),window.removeEventListener("message",e.receiveMessage),window.addEventListener("message",e.receiveMessage);var i="toolbar=no, menubar=no, width="+n.width+", height="+n.height+", top="+n.top+", left="+n.left;!e.windowObjectReference||e.windowObjectReference&&e.windowObjectReference.closed?e.windowObjectReference=window.open(t,n.title,i):e.previousUrl!==t?(e.windowObjectReference=window.open(t,n.title,i),e.windowObjectReference&&e.windowObjectReference.focus()):e.windowObjectReference.focus();var s=e.windowObjectReference||{};s.opener||(e.timerId=setInterval((function(){s[r]&&(clearInterval(e.timerId),e.onProcessLocation&&e.onProcessLocation(s[r]),delete s[r],e.windowObjectReference&&e.windowObjectReference.close())}),500)),e.previousUrl=t},this.receiveMessage=function(t){e.onProcessLocation&&e.onProcessLocation(t.data)}};t.default=new n},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(80),s=o(r(30)),a=o(r(29)),c=function(){this.signOut=function(e){var t=e.apiParameters,r=e.externalParameters,o=e.adobeIdRedirectUri,c=void 0===o?"":o,u=e.clientId,l=i.RedirectHelper.mergeApiParamsWithExternalParams(t,r,"logout"),f=i.RedirectHelper.createDefaultRedirectUrl(c,u,l,"logout"),d=n(n({},l),{client_id:u,redirect_uri:f,jslVersion:a.default.jslibver}),p=s.default.uriEncodeData(d),h=a.default.baseUrlAdobe+"/ims/logout/v1?"+p;s.default.replaceUrl(h)}};t.SignOutService=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=r(27),a=r(113),c=r(114),u=r(55),l=r(56),f=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this,t)||this;r.onAccessTokenHasExpired=null,r.onAccessToken=null,r.onReauthAccessToken=null,r.onError=null,r.handlers={triggerOnAccessToken:function(e){r.onAccessToken&&r.onAccessToken(e)},triggerOnReauthAccessToken:function(e){r.onReauthAccessToken&&r.onReauthAccessToken(e)},triggerOnAccessTokenHasExpired:function(){r.onAccessTokenHasExpired&&r.onAccessTokenHasExpired()},triggerOnReady:function(e){void 0===e&&(e=null),r.onReady&&r.onReady(e)},triggerOnError:function(e,t){r.onError&&r.onError(e,t)}};var n=t||window[s.AdobeIdKey];if(!n)throw new Error("Please provide adobeId information");var o=n.standalone,i=n.autoValidateToken,u=n.modalSettings,l=void 0===u?{}:u,f=n.modalMode,d=void 0!==f&&f,p=n.onAccessToken,h=n.onReauthAccessToken,v=n.onAccessTokenHasExpired,g=n.onReady,m=n.onError;return o&&o.token&&(r.standalone=new c.StandaloneToken(o)),r.modalSettings=new a.PopupSettings(l),r.modalMode=d,r.autoValidateToken=!!i,r.onAccessToken=p||null,r.onReauthAccessToken=h||null,r.onAccessTokenHasExpired=v||null,r.onReady=g||null,r.onError=m||null,r}return o(t,e),t.prototype.createSocialProviderRedirectRequest=function(e,t,r,n,o){void 0===o&&(o=l.IGrantTypes.token);var s={idp_flow:"social.deep_link.web",provider_id:e},a=i(i({},t),s);return this.createRedirectRequest(a,r,n,o)},t.prototype.createReAuthenticateRedirectRequest=function(e,t,r,n,o){void 0===n&&(n=u.IReauth.check),void 0===o&&(o=l.IGrantTypes.token);var s={reauth:n},a=i(i({},e),s);return this.createRedirectRequest(a,t,r,o)},t.prototype.createSignUpRedirectRequest=function(e,t,r,n){void 0===n&&(n=l.IGrantTypes.token);var o=i(i({},e),{idp_flow:"create_account"});return this.createRedirectRequest(o,t,r,n)},t}(r(81).AdobeIdThinData);t.AdobeIdData=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){void 0===e&&(e={}),this.title="Adobe ID",this.width=600,this.top=100,this.left=100;var t=e.title,r=void 0===t?"Adobe ID":t,n=e.width,o=void 0===n?600:n,i=e.height,s=void 0===i?700:i,a=e.top,c=void 0===a?100:a,u=e.left,l=void 0===u?100:u;this.title=r,this.width=o,this.height=s,this.top=c,this.left=l};t.PopupSettings=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.token="",this.sid="",this.expirems=0;var t=e.token,r=e.expirems;this.token=t,this.expirems=r};t.StandaloneToken=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.appCode="",this.appVersion=""};t.AnalyticsParameters=n},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(27),s=o(r(30)),a=o(r(42)),c=o(r(29)),u=o(r(117)),l=function(){function e(e){void 0===e&&(e={}),this.CONTENT_FORM_ENCODED="application/x-www-form-urlencoded;charset=utf-8",this.apiParameters=e}return e.prototype.validateToken=function(e){var t=e.token,r=e.client_id,o=s.default.uriEncodeData(n(n({},a.default.getCustomApiParameters(this.apiParameters,"validate_token")),{type:"access_token",client_id:r,token:t})),i=c.default.baseUrlAdobe+"/ims/validate_token/v1?jslVersion="+c.default.jslibver;return u.default.post(i,o,this.formEncoded())},e.prototype.getProfile=function(e){var t=e.token,r=e.client_id,o=n({},a.default.getCustomApiParameters(this.apiParameters,"profile")),i=this.createAuthorizationHeader(t),l=s.default.uriEncodeData(n({client_id:r},o)),f=c.default.baseUrlAdobe+"/ims/profile/v1?"+l+"&jslVersion="+c.default.jslibver;return u.default.get(f,i)},e.prototype.getUserInfo=function(e){var t=e.token,r=e.client_id,o=n({},a.default.getCustomApiParameters(this.apiParameters,"userinfo")),i=this.createAuthorizationHeader(t),l=s.default.uriEncodeData(n({client_id:r},o)),f=c.default.baseUrlAdobe+"/ims/userinfo/v1?"+l+"&jslVersion="+c.default.jslibver;return u.default.get(f,i)},e.prototype.logoutToken=function(e){var t=e.client_id,r=e.token,o=n({},a.default.getCustomApiParameters(this.apiParameters,"logout_token")),i=c.default.baseUrlServices+"/ims/logout/v1?jslVersion="+c.default.jslibver;return u.default.post(i,n({client_id:t,access_token:r},o))},e.prototype.checkStatus=function(){var e=c.default.baseUrlServices+"/ims/check/v1/status";return u.default.get(e)},e.prototype.checkToken=function(e,t,r){var o=e.client_id,i=e.scope,l=n({},a.default.mergeExternalParameters(t,this.apiParameters,"check_token")),f=c.default.baseUrlServices+"/ims/check/v6/token?jslVersion="+c.default.jslibver,d=n(n({},l),{client_id:o,scope:i});r&&(d.user_id=r);var p=s.default.uriEncodeData(d);return u.default.post(f,p,this.formEncoded())},e.prototype.switchProfile=function(e,t,r){void 0===r&&(r="");var o=e.client_id,i=e.scope,l=void 0===i?"":i,f=n({},a.default.mergeExternalParameters(t,this.apiParameters,"check_token")),d=c.default.baseUrlServices+"/ims/check/v6/token?jslVersion="+c.default.jslibver,p=s.default.uriEncodeData(n(n({},f),{client_id:o,scope:l,user_id:r}));return u.default.post(d,p,this.formEncoded())},e.prototype.listSocialProviders=function(e){var t=e.client_id,r=n({},a.default.getCustomApiParameters(this.apiParameters,"providers")),o=s.default.uriEncodeData(n({client_id:t},r)),i=c.default.baseUrlServices+"/ims/social/v1/providers?"+o+"&jslVersion="+c.default.jslibver;return u.default.get(i)},e.prototype.exchangeIjt=function(e,t){var r=e.client_id,o=n({},a.default.getCustomApiParameters(this.apiParameters,"ijt")),i=c.default.baseUrlServices+"/ims/jump/implicit/"+t,l=s.default.uriEncodeData(n({client_id:r},o)),f=i+"?"+l+"&jslVersion="+c.default.jslibver;return f.length>2048&&(delete o.redirect_uri,f=i+"?"+(l=s.default.uriEncodeData(o))),u.default.get(f)},e.prototype.avatarUrl=function(e){return c.default.baseUrlAdobe+"/ims/avatar/download/"+e},e.prototype.getReleaseFlags=function(e){var t=e.token,r=e.client_id,o=n({},a.default.getCustomApiParameters(this.apiParameters,"fg_value")),i=this.createAuthorizationHeader(t),l=s.default.uriEncodeData(n({client_id:r},o)),f=c.default.baseUrlAdobe+"/ims/fg/value/v1?"+l+"&jslVersion="+c.default.jslibver;return u.default.get(f,i)},e.prototype.getTransitoryAuthorizationCode=function(e,t,r){void 0===t&&(t={});var o=n({},a.default.mergeExternalParameters(t,this.apiParameters,"check_token")),i=c.default.baseUrlServices+"/ims/check/v6/token?client_id="+r+"&jslVersion="+c.default.jslibver,l=s.default.uriEncodeData(n(n({},o),e));return u.default.post(i,l,this.formEncoded())},e.prototype.getTokenFromCode=function(e,t){void 0===t&&(t={});var r=n({},a.default.mergeExternalParameters(t,this.apiParameters,"token"));r.grant_type="authorization_code",delete e.other;var o=c.default.baseUrlServices+"/ims/token/v3?jslVersion="+c.default.jslibver,i=s.default.uriEncodeData(n(n({},r),e));return u.default.post(o,i,this.formEncoded())},e.prototype.jumpToken=function(e,t,r){void 0===t&&(t={});var o=n({},a.default.mergeExternalParameters(t,this.apiParameters,"jumptoken")),i=c.default.baseUrlServices+"/ims/jumptoken/v1?client_id="+r+"&jslVersion="+c.default.jslibver,l=s.default.uriEncodeData(n(n({},o),e));return u.default.post(i,l,this.formEncoded())},e.prototype.createAuthorizationHeader=function(e){var t={};return e&&(t[i.HEADERS.AUTHORIZATION]="Bearer "+e),t},e.prototype.formEncoded=function(e){return void 0===e&&(e={}),e["content-type"]=this.CONTENT_FORM_ENCODED,e},e}();t.ImsApis=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(118)),i=n(r(119)),s=n(r(120));t.default=new(function(){function e(){this.triggerOnError=null}return e.prototype.post=function(e,t,r){var n=this;void 0===r&&(r={});var i=o.default.getCachedApiResponse(e,t);if(i){var a=i.status,c=i.data;return 200===a?Promise.resolve(c):Promise.reject(c)}return s.default.post(e,t,r).then((function(r){return n.storeApiResponse(e,JSON.stringify(t),r)})).catch((function(r){return n.verifyError(e,JSON.stringify(t),r)}))},e.prototype.get=function(e,t){var r=this;void 0===t&&(t={});var n=o.default.getCachedApiResponse(e);if(n){var i=n.status,a=n.data;return 200===i?Promise.resolve(a):Promise.reject(a)}return s.default.get(e,t).then((function(t){return r.storeApiResponse(e,"",t)})).catch((function(t){return r.verifyError(e,"",t)}))},e.prototype.verifyError=function(e,t,r){this.storeApiResponse(e,t,r);var n=i.default.verify(r,e);return Promise.reject(n||r.data)},e.prototype.storeApiResponse=function(e,t,r){return void 0===t&&(t=""),o.default.storeApiResponse(e,t,r),Promise.resolve(r.data)},e}())},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var e=this;this.DEBOUNCE_TIME=1e3,this.cache={},this.storeApiResponse=function(t,r,n){void 0===t&&(t=""),void 0===r&&(r=""),e.cacheApiResponse(t,r,n)}}return e.prototype.getCachedApiResponse=function(e,t){void 0===t&&(t="");var r="string"==typeof t?t:JSON.stringify(t),n=this.cache[e];if(!n)return null;var o=n[r];return o?o.data:null},e.prototype.cacheApiResponse=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t="");var o=this.cache[e];o||(o={},this.cache[e]=o);var i=this.createClearCachedDataTimer(e,t);o[t]={timerId:i,data:n({},r)}},e.prototype.createClearCachedDataTimer=function(e,t){var r=this;return setTimeout((function(){var n=r.cache[e]||{},o=n[t];o&&o&&o.timerId&&(clearTimeout(o.timerId),delete n[t])}),this.DEBOUNCE_TIME)},e}();t.default=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81),o=r(58),i=r(43),s=function(){function e(){this.adobeIdThinData=null}return e.prototype.verify=function(e,t){void 0===t&&(t="");var r=e.status,n=e.data;if(!r)return new i.HttpErrorResponse({error:"networkError",message:n||""});if(401==r)return new i.HttpErrorResponse({error:"unauthorized"});var o=this.parseTokenResponseForRideErrors(n,t);return o||(409==r?n:429==r?new i.HttpErrorResponse({error:"rate_limited",retryAfter:n.retryAfter?parseInt(n.retryAfter):10}):r.toString().match(/5\d{2}/g)?new i.HttpErrorResponse({error:"server_error"}):null)},e.prototype.parseTokenResponseForRideErrors=function(e,t){if(!e)return null;var r=e.error,n=e.jump;if(!r)return null;if(!(0===r.indexOf("ride_")))return"token_expired"===r&&t.indexOf("check/v6/token")>=0?new o.RideException("ride_pba_idle_session","",!0):null;var i=this.addRedirectUriToJump(r,n);return new o.RideException(r,i)},e.prototype.addRedirectUriToJump=function(e,t){if(!t||"string"!=typeof t)return"";var r=t;this.adobeIdThinData||(this.adobeIdThinData=new n.AdobeIdThinData);var o=this.adobeIdThinData.computeRideRedirectUri(e);if(!o||0===o.length)return r;try{var i=new URL(r);return i.searchParams.append("redirect_uri",o),i.toString()}catch(e){return r}},e.prototype.isUnauthorizedException=function(e){var t=e.status;return 401===(void 0===t?0:t)},e}();t.default=new s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(121);t.default=new(function(){function e(){}return e.prototype.http=function(e){return new Promise((function(t,r){var o=new(0,window.XMLHttpRequest);o.withCredentials=!0,o.open(e.method,e.url,!0);var i;o.onload=function(){return this.status>=200&&this.status<300?t(new n.ApiResponse(this.status,this.response)):r(new n.ApiResponse(this.status,this.response))},o.onerror=function(){var e=new n.ApiResponse(this.status,this.response);return r(e)},(i=e.headers)&&Object.keys(i).forEach((function(e){o.setRequestHeader(e,i[e])})),o.send(e.data)}))},e.prototype.post=function(e,t,r){return void 0===r&&(r={}),this.http({headers:r,method:"POST",url:e,data:t})},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.http({headers:t,method:"GET",url:e})},e}())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.status=0,this.data="",this.status=e,this.data=this.toJson(t)}return e.prototype.toJson=function(e){try{return"string"!=typeof e?e:JSON.parse(e)}catch(t){return e}},e}();t.ApiResponse=n},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(41)),i=r(27),s=r(82),a=r(43),c=r(59),u=function(){function e(e){this.profileServiceRequest=e,this.storage=o.default.getStorageByName(i.STORAGE_MODE.SessionStorage)}return e.prototype.getProfile=function(e){var t=this,r=this.profileServiceRequest,n=r.clientId,o=r.imsApis,i=this.getProfileFromStorage();return i?Promise.resolve(i):o.getProfile({client_id:n,token:e}).then((function(e){if(!e)throw new s.ProfileException("NO profile response");if(0===Object.keys(e).length)throw new s.ProfileException("NO profile value");return t.saveProfileToStorage(e),Promise.resolve(e)})).catch((function(e){return e instanceof a.HttpErrorResponse||t.removeProfile(),Promise.reject(e)}))},e.prototype.getProfileStorageKey=function(e){void 0===e&&(e=!1);var t=this.profileServiceRequest,r=t.clientId,n=t.scope;return i.PROFILE_STORAGE_KEY+"/"+r+"/"+!1+"/"+(e?c.sortScopes(n):n)},e.prototype.getProfileFromStorage=function(){var e=this.getProfileStorageKey(),t=this.getProfileStorageKey(!0),r=this.storage.getItem(e);return r||(r=this.storage.getItem(t)),r&&JSON.parse(r)},e.prototype.saveProfileToStorage=function(e){var t=this.getProfileStorageKey(),r=this.getProfileStorageKey(!0);this.storage.setItem(t,JSON.stringify(e)),this.storage.setItem(r,JSON.stringify(e))},e.prototype.removeProfile=function(){var e=this.getProfileStorageKey(),t=this.getProfileStorageKey(!0);this.storage.removeItem(e),this.storage.removeItem(t)},e.prototype.removeProfileIfOtherUser=function(e){if(e){var t=this.getProfileFromStorage();t&&t.userId!==e&&this.removeProfile()}},e}();t.ProfileService=u},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(41)),a=r(27),c=r(124),u=i(r(84)),l=r(125),f=r(126),d=r(127),p=r(58),h=r(85),v=i(r(28)),g=r(43),m=r(128),y=r(86),_=r(57),b=r(59),S=function(){function e(e,t){var r=this;this.getTokenAndProfile=function(e){void 0===e&&(e={});var t=r.getTokenFields();return t instanceof y.ModalSignInEvent||t instanceof l.FragmentException?Promise.reject(t):t instanceof m.AuthorizationCode?r.tokenServiceRequest.imsApis.getTokenFromCode(t,e).then((function(e){var r=e.access_token,n=e.state,i=e.expires_in,s=e.scope,a=void 0===s?"":s,u=o(e,["access_token","state","expires_in","scope"]),l=new c.TokenFields({scope:a,tokenValue:r,valid:!0,state:n,other:t.other},new Date((new Date).getTime()+parseFloat(i)));return Promise.resolve(new d.TokenProfileResponse(l,u))})):t instanceof c.TokenFields?t.fromFragment||!r.tokenServiceRequest.autoValidateToken?Promise.resolve(new d.TokenProfileResponse(t,null)):r.callValidateTokenApi(t.tokenValue).then((function(){return new d.TokenProfileResponse(t,null)})).catch((function(){return r.callRefreshToken(e)})):r.callRefreshToken(e)};var n=e.useLocalStorage;this.csrfService=t,this.tokenServiceRequest=e,this.storage=s.default.getStorageByName(n?a.STORAGE_MODE.LocalStorage:a.STORAGE_MODE.SessionStorage)}return e.prototype.getTokenFields=function(){var e=this.tokenServiceRequest,t=e.clientId,r=e.scope,n=this.getTokenFromFragment();return n instanceof y.ModalSignInEvent||n instanceof l.FragmentException||n instanceof m.AuthorizationCode?n:n&&n.validate(t,r)?(n.fromFragment=!0,this.addTokenToStorage(n),n):this.getTokenFieldsFromStorage()},e.prototype.validateToken=function(){var e=this.getTokenFieldsFromStorage();return e?this.callValidateTokenApi(e.tokenValue):Promise.reject(null)},e.prototype.getReleaseFlags=function(){var e=this.tokenServiceRequest,t=e.clientId,r=e.imsApis,n=this.getTokenFieldsFromStorage();return n?r.getReleaseFlags({token:n.tokenValue,client_id:t}):Promise.reject(null)},e.prototype.callValidateTokenApi=function(e){var t=this,r=this.tokenServiceRequest,o=r.clientId,i=r.scope;return r.imsApis.validateToken({client_id:o,token:e}).then((function(r){v.default.info("validateToken response",r);var s=new c.TokenFields(n(n({},r),{tokenValue:e}),new Date(parseFloat(r.expires_at)));if(s.validate(o,i))return t.addTokenToStorage(s),Promise.resolve(s);throw new Error("could not validate tokenFields")})).catch((function(e){return v.default.error("validateToken response",e),e instanceof g.HttpErrorResponse||t.removeTokenFromLocalStorage(),Promise.reject(e)}))},e.prototype.getTokenFromFragment=function(){var e=u.default.fragmentToObject();if(!e)return null;v.default.info("fragment value "+e);var t=e.access_token,r=e.scope,i=e.error,s=e.api,a=e.state,d=void 0===a?{}:a,p=e.expires_in,h=e.client_id,g=e.code,b=void 0===g?"":g,S=o(e,["access_token","scope","error","api","state","expires_in","client_id","code"]),k=d.imslibmodal,O=d.nonce;if(!0===k)return new y.ModalSignInEvent(O);if(!e.from_ims)return null;if(h!==this.tokenServiceRequest.clientId)return null;if(i)return new l.FragmentException(f.IFragmentExceptionType.FRAGMENT,i);if("authorize"!==s)return new l.FragmentException(f.IFragmentExceptionType.NOT_AUTHORIZE,"api should be authorize and "+s+" is used");if(!this.csrfService.verify(O))return new l.FragmentException(f.IFragmentExceptionType.CSRF,"CSRF exception");if(b){var I=(new _.CodeChallenge).getVerifierByKey(O);if(!I)throw new Error("no verifier value has been found");return new m.AuthorizationCode(n(n({},e),{verifier:I}))}return t?new c.TokenFields({scope:r,tokenValue:t,valid:!0,state:d,other:S},new Date((new Date).getTime()+parseFloat(p))):null},e.prototype.getDataFromStorageWithSortedScopesFallback=function(e){var t=this.getAccessTokenKey(e),r=this.storage.getItem(t);if(!r){var n=this.getAccessTokenKey(e,!0);r=this.storage.getItem(n)}return r},e.prototype.getStorageKeyValue=function(e){return this.storage.getItem(e)},e.prototype.getTokenFieldsFromStorage=function(e){void 0===e&&(e=!1);var t=this.tokenServiceRequest,r=t.clientId,n=t.scope,o=this.getDataFromStorageWithSortedScopesFallback(e);if(!o)return null;var i=JSON.parse(o),s=i.expire?new Date(Date.parse(i.expire)):new Date(i.expiresAtMilliseconds),a=new c.TokenFields(i,s);return a.validate(r,n)?a:null},e.prototype.getAccessTokenKey=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=this.tokenServiceRequest,n=r.clientId,o=r.scope;return a.TOKEN_STORAGE_KEY+"/"+n+"/"+e+"/"+(t?b.sortScopes(o):o)},e.prototype.addTokenToStorage=function(e){if(e){var t=e.isReauth(),r=this.getAccessTokenKey(t),o=this.getAccessTokenKey(t,!0),i=n({},e);i.state={},i.other="{}";var s=JSON.stringify(i);this.storage.setItem(r,s),this.storage.setItem(o,s)}},e.prototype.removeTokenFromLocalStorage=function(){var e=this.getAccessTokenKey(),t=this.getAccessTokenKey(!1,!0);this.storage.removeItem(e),this.storage.removeItem(t)},e.prototype.removeReauthTokenFromLocalStorage=function(){var e=this.getAccessTokenKey(!0),t=this.getAccessTokenKey(!0,!0);this.storage.removeItem(e),this.storage.removeItem(t)},e.prototype.refreshToken=function(e){var t=this;void 0===e&&(e={});var r=this.tokenServiceRequest,i=r.clientId,s=r.imsApis,a=r.scope,c=this.getTokenFieldsFromStorage(),u=c?c.user_id:"";return s.checkToken({client_id:i,scope:a},e,u).then((function(e){if(!e)throw new Error("refresh token --\x3e no response");var r=e.access_token,i=e.expires_in,s=e.token_type,a=e.error,c=e.error_description,u=void 0===c?"":c,l=e.sid,f=o(e,["access_token","expires_in","token_type","error","error_description","sid"]);if(a)throw new Error(a+" "+u);var d=Object.keys(f).length?f:null,p={token:r,expire:new Date(Date.now()+parseFloat(i)),token_type:s,sid:l},h=t.updateToken(p)||{},v={tokenInfo:n(n({},p),{impersonatorId:h.impersonatorId||"",isImpersonatedSession:h.isImpersonatedSession||!1}),profile:d};return Promise.resolve(v)})).catch((function(e){return void 0===e&&(e={}),e instanceof g.HttpErrorResponse||e instanceof p.RideException?Promise.reject(e):(t.removeTokenFromLocalStorage(),Promise.reject(new h.TokenExpiredException(e)))}))},e.prototype.switchProfile=function(e,t){var r=this;void 0===t&&(t={});var i=this.tokenServiceRequest,s=i.clientId,a=i.imsApis,c=i.scope;return a.switchProfile({client_id:s,scope:c},t,e).then((function(e){if(!e)throw new Error("refresh token --\x3e no response");var t=e.access_token,i=e.expires_in,s=e.token_type,a=e.error,c=e.error_description,u=void 0===c?"":c,l=e.sid,f=o(e,["access_token","expires_in","token_type","error","error_description","sid"]);if(a)throw new Error(a+" "+u);var d=Object.keys(f).length?f:null,p={token:t,expire:new Date(Date.now()+parseFloat(i)),token_type:s,sid:l},h=r.updateToken(p)||{},v={tokenInfo:n(n({},p),{impersonatorId:h.impersonatorId||"",isImpersonatedSession:h.isImpersonatedSession||!1}),profile:d};return Promise.resolve(v)})).catch((function(e){return void 0===e&&(e={}),Promise.reject(e)}))},e.prototype.callRefreshToken=function(e){return void 0===e&&(e={}),this.refreshToken(e).then((function(e){var t=e.tokenInfo,r=t.token,n=t.expire,o=e.profile,i=new c.TokenFields({valid:!0,tokenValue:r},n),s=new d.TokenProfileResponse(i,o);return Promise.resolve(s)})).catch((function(e){return Promise.reject(e)}))},e.prototype.updateToken=function(e){var t=e.token,r=e.expire,n=new c.TokenFields({tokenValue:t},r);return n?(n.tokenValue=t,this.addTokenToStorage(n),n):null},e.prototype.purge=function(){this.removeTokenFromLocalStorage(),this.removeReauthTokenFromLocalStorage()},e.prototype.setStandAloneToken=function(e){var t=e.token,r=e.sid,n=e.expirems,o=void 0===n?-1:n,i=this.tokenServiceRequest,s=i.clientId,a=i.scope,u=new Date((new Date).getTime()+o);if(!new c.TokenFields({valid:!0,tokenValue:t},u).validate(s,a))return!1;var l={expire:u,token:t,sid:r};return this.updateToken(l),!0},e.prototype.exchangeIjt=function(e){var t=this.tokenServiceRequest,r={client_id:t.clientId,scope:t.scope};return t.imsApis.exchangeIjt(r,e).then((function(e){var t=e.valid,r=e.access_token,n=e.expires_in;if(!1===t)return Promise.reject(e);var o=new Date(Date.now()+1e3*parseFloat(n)),i=new c.TokenFields({valid:!0,tokenValue:r},o),s=new d.TokenProfileResponse(i,null);return Promise.resolve(s)}))},e}();t.TokenService=S},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(42)),i=n(r(28)),s=r(59),a=function(){function e(e,t){var r=this;this.REAUTH_SCOPE="reauthenticated",this.valid=!1,this.isReauth=function(){return r.scope.indexOf(r.REAUTH_SCOPE)>=0},this.client_id="",this.scope="",this.expire=new Date,this.user_id="",this.tokenValue="",this.sid="",this.state=null,this.fromFragment=!1,this.impersonatorId="",this.isImpersonatedSession=!1;var n=e.valid,i=e.tokenValue,s=e.access_token,a=e.state,c=e.other,u=i||s,l=this.parseJwt(u);if(!l)throw new Error("token cannot be decoded "+u);this.state=o.default.toJson(a);var f=l.client_id,d=l.user_id,p=l.scope,h=l.sid,v=l.imp_id,g=l.imp_sid;this.client_id=f,this.expire=t,this.user_id=d,this.scope=p,this.valid=n,this.tokenValue=u,this.sid=h,this.other=c,this.impersonatorId=v||"",this.isImpersonatedSession=!!g}return e.prototype.parseJwt=function(e){if(!e)return null;try{return JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")))}catch(t){return i.default.error("error on decoding token ",e,t),null}},e.prototype.validate=function(e,t){var r=this.valid,n=this.client_id,o=this.scope,a=this.expire;return a<new Date?(i.default.error("token invalid  --\x3e expires_at",a),!1):null==r||r?n!==e?(i.default.error("token invalid  --\x3e client id",n,e),!1):!!s.validateScopeInclusion(t,o)||(i.default.error("token invalid  --\x3e scope"," token scope =",o,"vs adobeIdScope =",t,"."),!1):(i.default.error("token invalid  --\x3e valid"),!1)},e}();t.TokenFields=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.message="",this.type="",this.type=e,this.message=t};t.FragmentException=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FRAGMENT="fragment",e.CSRF="csrf",e.NOT_AUTHORIZE="not_authorize"}(t.IFragmentExceptionType||(t.IFragmentExceptionType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.profile=null,this.tokenFields=e,this.profile=t};t.TokenProfileResponse=n},function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.client_id="",this.scope="",this.code="",this.state=null,this.code_verifier="",this.other=null;var t=e.code,r=e.state,o=e.client_id,i=e.scope,s=e.verifier,a=n(e,["code","state","client_id","scope","verifier"]);this.state=r,this.client_id=o,this.code=t,this.scope=i,this.code_verifier=s,this.other=a};t.AuthorizationCode=o},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(28)),i=["keyup","mousemove"],s=function(){function e(){var e=this;this.lastUserInteraction=Date.now(),this.userActive=!1,this.userInteractionHandler=function(){e.lastUserInteraction=Date.now(),e.userActive=!0},this.initializeDomEvents=function(){i.forEach((function(t){return window.addEventListener(t,e.userInteractionHandler)}))},this.clearDomEvents=function(){i.forEach((function(t){return window.removeEventListener(t,e.userInteractionHandler)}))}}return e.prototype.startAutoRefreshFlow=function(e){var t,r=this;if(e&&e.expire&&e.refreshTokenMethod){this.refreshParameters=e,this.refreshTimerId&&(o.default.info("Auto-refresh timer already set, clearing"),clearTimeout(this.refreshTimerId)),this.clearDomEvents(),this.initializeDomEvents();var n=this.fromNowToNMinutesBeforeDate(null===(t=this.refreshParameters)||void 0===t?void 0:t.expire,1);o.default.info("Auto-refresh timer will run after (seconds)",n/1e3),this.refreshTimerId=setTimeout((function(){var e;if(r.userActive){var t=Math.floor((Date.now()-r.lastUserInteraction)/1e3);null===(e=r.refreshParameters)||void 0===e||e.refreshTokenMethod({userInactiveSince:t},!0),o.default.info("Auto-refresh performed, user was inactive for (seconds)",t)}else o.default.info("Auto-refresh skipped, user was never active")}),n)}else o.default.info("Won't schedule token auto-refresh",!e,!e.expire,!e.refreshTokenMethod)},e.prototype.fromNowToNMinutesBeforeDate=function(e,t){var r=e.getTime()-Date.now()-6e4*t;return r<=0?6e4*t:r},e}();t.default=new s},function(e,t,r){"use strict";var n=r(131),o=r(132),i=r(60),s=r(61);e.exports=r(134)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(23)("unscopables"),o=Array.prototype;null==o[n]&&r(26)(o,n,{}),e.exports=function(e){o[n][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(48);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(70),o=r(72),i=r(39),s=r(26),a=r(60),c=r(135),u=r(89),l=r(142),f=r(23)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,v,g,m){c(r,t,h);var y,_,b,S=function(e){if(!d&&e in w)return w[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",O="values"==v,I=!1,w=e.prototype,P=w[f]||w["@@iterator"]||v&&w[v],R=P||S(v),E=v?O?S("entries"):R:void 0,T="Array"==t&&w.entries||P;if(T&&(b=l(T.call(new e)))!==Object.prototype&&b.next&&(u(b,k,!0),n||"function"==typeof b[f]||s(b,f,p)),O&&P&&"values"!==P.name&&(I=!0,R=function(){return P.call(this)}),n&&!m||!d&&!I&&w[f]||s(w,f,R),a[t]=R,a[k]=p,v)if(y={values:O?R:S("values"),keys:g?R:S("keys"),entries:E},m)for(_ in y)_ in w||i(w,_,y[_]);else o(o.P+o.F*(d||I),t,y);return y}},function(e,t,r){"use strict";var n=r(136),o=r(74),i=r(89),s={};r(26)(s,r(23)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(24),o=r(137),i=r(88),s=r(62)("IE_PROTO"),a=function(){},c=function(){var e,t=r(73)("iframe"),n=i.length;for(t.style.display="none",r(141).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(53),o=r(24),i=r(87);e.exports=r(37)?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,c=0;a>c;)n.f(e,r=s[c++],t[r]);return e}},function(e,t,r){var n=r(40),o=r(61),i=r(139)(!1),s=r(62)("IE_PROTO");e.exports=function(e,t){var r,a=o(e),c=0,u=[];for(r in a)r!=s&&n(a,r)&&u.push(r);for(;t.length>c;)n(a,r=t[c++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(61),o=r(47),i=r(140);e.exports=function(e){return function(t,r,s){var a,c=n(t),u=o(c.length),l=i(s,u);if(e&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(36),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(25).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(40),o=r(67),i=r(62)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}}])]);